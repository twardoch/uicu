---
description: Specifies the implementation of the Pythonic Unicode wrapper functionality around PyICU and fontTools.unicodedata
globs: src/uicu/*.py,tests/*_unicode*.py,tests/*_icu*.py
alwaysApply: false
---


# unicode-wrapper-implementation

### Core Unicode Wrapper Components

1. **PyICU Integration Layer** (Importance: 95)
- Custom wrapper classes that provide Pythonic interfaces to PyICU's Unicode operations
- Handles encoding/decoding between Python's native Unicode and ICU's internal formats
- File path: `src/uicu/icu_wrapper.py`

2. **fontTools Integration** (Importance: 85)
- Supplementary writing system information extraction from fontTools.unicodedata
- Merges font-specific Unicode data with ICU capabilities
- File path: `src/uicu/font_unicode.py`

3. **Unicode Data Objects** (Importance: 90)
- Rich object model representing Unicode characters with extended properties
- Custom attributes for writing system classification
- Advanced normalization and decomposition handling
- File path: `src/uicu/unicode_data.py`

4. **Unicode Operation Pipeline** (Importance: 85)
- Structured workflow for processing Unicode text through multiple stages
- Configurable transformation chain for character normalization
- Fallback handling for unsupported Unicode operations
- File path: `src/uicu/pipeline.py`

### Domain-Specific Implementations

1. **Writing System Detection** (Importance: 80)
- Custom algorithms for identifying writing systems in mixed Unicode text
- Integration of ICU script detection with fontTools metadata
- File path: `src/uicu/script_detect.py`

2. **Unicode Data Enrichment** (Importance: 75)
- Enhancement of Unicode character properties with additional metadata
- Custom property definitions for specialized text processing needs
- File path: `src/uicu/property_extend.py`

### Test Infrastructure

1. **Unicode Test Cases** (Importance: 70)
- Comprehensive test suite for Unicode handling edge cases
- Validation of character property preservation
- File path: `tests/test_unicode_wrapper.py`

2. **Integration Tests** (Importance: 75)
- Tests for PyICU and fontTools integration points
- Verification of combined Unicode operations
- File path: `tests/test_integration.py`

$END$

 If you're using this file in context, clearly say in italics in one small line that "Context added by Giga unicode-wrapper-implementation".